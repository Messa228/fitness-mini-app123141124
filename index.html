<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">

  <!-- –ê–í–¢–û–ú–ê–°–®–¢–ê–ë –ü–û–î –õ–Æ–ë–û–ï –£–°–¢–†–û–ô–°–¢–í–û -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Fitness Mini App</title>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>

  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #f5f5f5;
    }

    /* ===== –û–ë–©–ò–ï –≠–ö–†–ê–ù–´ ===== */
    .screen {
      display: none;
      height: 100vh;
      padding: 16px;
      background: #f5f5f5;
    }

    .screen.active {
      display: block;
    }

    h2 {
      margin-top: 0;
    }

    button {
      padding: 10px;
      font-size: 16px;
      margin-top: 10px;
      cursor: pointer;
    }

    /* ===== –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù ===== */
    #home {
      display: flex;
      flex-direction: column;
      height: 100vh;
    }

    .home-btn {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      background: white;
      border-bottom: 1px solid #ddd;
      cursor: pointer;
    }

    .home-btn:last-child {
      border-bottom: none;
    }

    /* ===== –ï–î–ê ===== */
    .food-item {
      margin-bottom: 10px;
    }

    .water-box {
      margin-top: 20px;
      padding-top: 10px;
      border-top: 1px solid #ccc;
    }

    /* ===== –¢–†–ï–ù–ò–†–û–í–ö–ò ===== */
    .exercise {
      margin-bottom: 10px;
    }
  </style>
</head>

<body>

<!-- ================= –ì–õ–ê–í–ù–´–ô –≠–ö–†–ê–ù ================= -->
<div id="home" class="screen active">
  <div class="home-btn" onclick="openScreen('food')">üçΩ –ï–î–ê</div>
  <div class="home-btn" onclick="openScreen('workout')">üèãÔ∏è –¢–†–ï–ù–ò–†–û–í–ö–ò</div>
  <div class="home-btn" onclick="openScreen('stats')">üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê</div>
</div>

<!-- ================= –ï–î–ê ================= -->
<div id="food" class="screen">
  <h2>–ï–¥–∞</h2>

  <div class="food-item">
    <input type="checkbox" id="oatmeal" onchange="saveFood('oatmeal')">
    –û–≤—Å—è–Ω–∫–∞ —Å –±–∞–Ω–∞–Ω–æ–º
  </div>

  <div class="food-item">
    <input type="checkbox" id="chicken" onchange="saveFood('chicken')">
    –ö—É—Ä–∏—Ü–∞ —Å —Ä–∏—Å–æ–º
  </div>

  <div class="food-item">
    <input type="checkbox" id="curd" onchange="saveFood('curd')">
    –¢–≤–æ—Ä–æ–≥
  </div>

  <div class="water-box">
    <h3>–í–æ–¥–∞</h3>
    <p>–¶–µ–ª—å: 2000 –º–ª</p>

    <input type="number" id="waterInput" placeholder="–º–ª">
    <button onclick="addWater()">+</button>

    <p>–í—ã–ø–∏—Ç–æ: <span id="waterDone">0</span> –º–ª</p>
    <p>–û—Å—Ç–∞–ª–æ—Å—å: <span id="waterLeft">2000</span> –º–ª</p>
  </div>

  <button onclick="goHome()">‚Üê –ù–∞–∑–∞–¥</button>
</div>

<!-- ================= –¢–†–ï–ù–ò–†–û–í–ö–ò ================= -->
<div id="workout" class="screen">
  <h2>–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞</h2>

  <div class="exercise">
    –ñ–∏–º –ª—ë–∂–∞:
    <input type="number" id="bench">
    <button onclick="saveExercise('bench')">+</button>
  </div>

  <div class="exercise">
    –ü—Ä–∏—Å–µ–¥:
    <input type="number" id="squat">
    <button onclick="saveExercise('squat')">+</button>
  </div>

  <button onclick="resetTraining()">–°–±—Ä–æ—Å–∏—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É</button>
  <br>
  <button onclick="goHome()">‚Üê –ù–∞–∑–∞–¥</button>
</div>

<!-- ================= –°–¢–ê–¢–ò–°–¢–ò–ö–ê ================= -->
<div id="stats" class="screen">
  <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
  <p>–î–æ–±–∞–≤–∏–º –ø–æ–∑–∂–µ</p>
  <button onclick="goHome()">‚Üê –ù–∞–∑–∞–¥</button>
</div>

<script>
Telegram.WebApp.ready();

/* ===== –ù–ê–í–ò–ì–ê–¶–ò–Ø ===== */
function openScreen(id) {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.getElementById(id).classList.add('active');
}

function goHome() {
  openScreen('home');
}

/* ===== –ï–î–ê ===== */
function saveFood(name) {
  localStorage.setItem('food_' + name, document.getElementById(name).checked);
}

['oatmeal', 'chicken', 'curd'].forEach(f => {
  const saved = localStorage.getItem('food_' + f);
  if (saved === 'true') document.getElementById(f).checked = true;
});

/* ===== –í–û–î–ê ===== */
let water = Number(localStorage.getItem('water')) || 0;
const goal = 2000;

function updateWater() {
  waterDone.innerText = water;
  waterLeft.innerText = Math.max(goal - water, 0);
}

function addWater() {
  const v = Number(waterInput.value);
  if (!v) return;
  water += v;
  localStorage.setItem('water', water);
  waterInput.value = '';
  updateWater();
}
updateWater();

/* ===== –¢–†–ï–ù–ò–†–û–í–ö–ò ===== */
function saveExercise(name) {
  const value = document.getElementById(name).value;
  if (!value) return;
  localStorage.setItem('exercise_' + name, value);
  alert('–°–æ—Ö—Ä–∞–Ω–µ–Ω–æ');
}

function resetTraining() {
  localStorage.removeItem('exercise_bench');
  localStorage.removeItem('exercise_squat');
  alert('–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞ —Å–±—Ä–æ—à–µ–Ω–∞');
}
</script>

</body>
</html>
